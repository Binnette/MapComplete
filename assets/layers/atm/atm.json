{
  "id": "atm",
  "name": {
    "en": "ATMs"
  },
  "description": {
    "en": "ATMS to withdraw money"
  },
  "title": {
    "render": {
      "en": "ATM"
    },
    "mappings": [
      {
        "if": "brand~*",
        "then": {
          "en": "{brand} ATM"
        }
      }
    ]
  },
  "source": {
    "osmTags": "amenity=atm"
  },
  "minzoom": 13,
  "presets": [
    {
      "tags": [
        "amenity=atm"
      ],
      "title": {
        "en": "an ATM"
      }
    }
  ],
  "tagRenderings": [
    {
      "id": "name",
      "render": {
        "en": "The name of this ATM is {name}"
      },
      "condition": "name~*"
    },
    {
      "id": "brand",
      "question": {
        "en": "What brand is this ATM?"
      },
      "freeform": {
        "key": "brand",
        "type": "string",
        "placeholder": {
          "en": "Brand name"
        }
      },
      "render": {
        "en": "The brand of this ATM is {brand}"
      }
    },
    {
      "id": "operator",
      "question": {
        "en": "What company operates this ATM?"
      },
      "freeform": {
        "key": "operator",
        "type": "string",
        "placeholder": {
          "en": "Operator"
        }
      },
      "render": {
        "en": "The ATM is operated by {operator}"
      }
    },
    "opening_hours",
    {
      "id": "cash_out",
      "question": {
        "en": "Can you withdraw cash from this ATM?"
      },
      "mappings": [
        {
          "if": "cash_out=",
          "then": {
            "en": "You can withdraw cash from this ATM"
          },
          "hideInAnswer": true
        },
        {
          "if": "cash_out=yes",
          "then": {
            "en": "You can withdraw cash from this ATM"
          }
        },
        {
          "if": "cash_out=no",
          "then": {
            "en": "You cannot withdraw cash from this ATM"
          }
        }
      ]
    },
    {
      "id": "cash_in",
      "question": {
        "en": "Can you deposit cash into this ATM?"
      },
      "mappings": [
        {
          "if": "cash_in=",
          "then": {
            "en": "You probably cannot deposit cash into this ATM"
          },
          "hideInAnswer": true
        },
        {
          "if": "cash_in=yes",
          "then": {
            "en": "You can deposit cash into this ATM"
          }
        },
        {
          "if": "cash_in=no",
          "then": {
            "en": "You cannot deposit cash into this ATM"
          }
        }
      ]
    },
    {
      "id": "speech_output",
      "question": {
        "en": "Does this ATM have speech output for visually impaired users?"
      },
      "mappings": [
        {
          "if": "speech_output=yes",
          "then": {
            "en": "This ATM has speech output, usually available through a headphone jack"
          }
        },
        {
          "if": "speech_output=no",
          "then": {
            "en": "This ATM does not have speech output"
          }
        }
      ]
    },
    {
      "id": "speech_output_language",
      "condition": "speech_output=yes",
      "render": {
        "special": {
          "type": "language_chooser",
          "key": "speech_output",
          "question": {
            "en": "In which languages does this ATM have speech output?"
          },
          "render_list_item": {
            "en": "This ATM has speech output in {language():font-bold}"
          },
          "render_single_language": {
            "en": "This ATM has speech output in {language():font-bold}"
          }
        }
      }
    }
  ],
  "mapRendering": [
    {
      "icon": "circle:white;./assets/layers/atm/atm.svg",
      "location": [
        "point",
        "centroid"
      ]
    }
  ],
  "filter": [
    "open_now",
    {
      "id": "speech_output",
      "options": [
        {
          "question": {
            "en": "With speech output"
          },
          "osmTags": "speech_output=yes"
        }
      ]
    }
  ]
}