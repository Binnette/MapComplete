{
  "id": "ticket_machine",
  "name": {
    "en": "Ticket Machines"
  },
  "description": {
    "en": "Find ticket machines for public transport tickets"
  },
  "source": {
    "osmTags": {
      "and": [
        "amenity=vending_machine",
        "vending=public_transport_tickets"
      ]
    }
  },
  "minzoom": 19,
  "title": {
    "render": {
      "en": "Ticket Machine"
    }
  },
  "tagRenderings": [
    "images",
    "level",
    {
      "id": "operator",
      "question": {
        "en": "Who is the operator of this ticket machine?"
      },
      "render": {
        "en": "This ticket machine is operated by {operator}"
      },
      "freeform": {
        "key": "operator",
        "type": "string",
        "placeholder": {
          "en": "Name of the operator"
        }
      },
      "mappings": [
        {
          "if": "operator=Nederlandse Spoorwegen",
          "then": {
            "en": "Dutch Railways (NS)",
            "nl": "Nederlandse Spoorwegen (NS)"
          },
          "addExtraTags": [
            "operator:wikidata=Q23076"
          ],
          "hideInAnswer": "_country!=nl"
        }
      ]
    },
    {
      "id": "payment-options",
      "question": {
        "en": "How can you pay for tickets at this ticket machine?"
      },
      "multiAnswer": true,
      "mappings": [
        {
          "if": "payment:coins=yes",
          "ifnot": "payment:coins=no",
          "icon": "./assets/layers/ticket_machine/coins.svg",
          "then": {
            "en": "You can pay using coins"
          }
        },
        {
          "if": "payment:notes=yes",
          "ifnot": "payment:notes=no",
          "icon": "./assets/layers/ticket_machine/notes.svg",
          "then": {
            "en": "You can pay using bank notes"
          }
        },
        {
          "if": "payment:cash=yes",
          "ifnot": "payment:cash=",
          "icon": "./assets/tagRenderings/cash.svg",
          "then": {
            "en": "You can pay here using coins and bank notes"
          },
          "hideInAnswer": true
        },
        {
          "if": "payment:debit_cards=yes",
          "ifnot": "payment_debit_cards=no",
          "icon": "./assets/tagRenderings/payment_card.svg",
          "then": {
            "en": "You can pay here using debit cards"
          }
        },
        {
          "if": "payment:credit_cards=yes",
          "ifnot": "payment:credit_cards=no",
          "icon": "./assets/tagRenderings/payment_card.svg",
          "then": {
            "en": "You can pay here using credit cards"
          }
        },
        {
          "if": "payment:cards=yes",
          "ifnot": "payment:cards=",
          "icon": "./assets/tagRenderings/payment_card.svg",
          "then": {
            "en": "You can pay here using cards"
          },
          "hideInAnswer": true
        }
      ]
    },
    {
      "id": "denominations-coins",
      "condition": {
        "and": [
          {
            "or": [
              "payment:coins=yes",
              "payment:cash=yes"
            ]
          },
          {
            "or": [
              "_country=at",
              "_country=be",
              "_country=cy",
              "_country=de",
              "_country=ee",
              "_country=es",
              "_country=fi",
              "_country=fr",
              "_country=gr",
              "_country=hr",
              "_country=ie",
              "_country=it",
              "_country=lt",
              "_country=lu",
              "_country=lv",
              "_country=mt",
              "_country=nl",
              "_country=pt",
              "_country=si",
              "_country=sk"
            ]
          }
        ]
      },
      "question": {
        "en": "Whith what coins can you pay here?"
      },
      "multiAnswer": true,
      "mappings": [
        {
          "if": "payment:coins:denomination=0.01 EUR",
          "icon": "./assets/layers/ticket_machine/1cent.svg",
          "then": {
            "en": "1 cent coins are accepted"
          }
        },
        {
          "if": "payment:coins:denomination=0.02 EUR",
          "icon": "./assets/layers/ticket_machine/2cent.svg",
          "then": {
            "en": "2 cent coins are accepted"
          }
        },
        {
          "if": "payment:coins:denomination=0.05 EUR",
          "icon": "./assets/layers/ticket_machine/5cent.svg",
          "then": {
            "en": "5 cent coins are accepted"
          }
        },
        {
          "if": "payment:coins:denomination=0.10 EUR",
          "icon": "./assets/layers/ticket_machine/10cent.svg",
          "then": {
            "en": "10 cent coins are accepted"
          }
        },
        {
          "if": "payment:coins:denomination=0.20 EUR",
          "icon": "./assets/layers/ticket_machine/20cent.svg",
          "then": {
            "en": "20 cent coins are accepted"
          }
        },
        {
          "if": "payment:coins:denomination=0.50 EUR",
          "icon": "./assets/layers/ticket_machine/50cent.svg",
          "then": {
            "en": "50 cent coins are accepted"
          }
        },
        {
          "if": "payment:coins:denomination=1.00 EUR",
          "icon": "./assets/layers/ticket_machine/1euro.svg",
          "then": {
            "en": "1 euro coins are accepted"
          }
        },
        {
          "if": "payment:coins:denomination=2.00 EUR",
          "icon": "./assets/layers/ticket_machine/2euro.svg",
          "then": {
            "en": "2 euro coins are accepted"
          }
        }
      ]
    }
  ],
  "presets": [
    {
      "tags": [
        "amenity=vending_machine",
        "vending=public_transport_tickets"
      ],
      "title": {
        "en": "a ticket machine"
      }
    }
  ],
  "mapRendering": [
    {
      "icon": "square:lightblue;./assets/themes/stations/public_transport_tickets.svg",
      "iconSize": "20,20,center",
      "location": [
        "point",
        "centroid"
      ]
    }
  ]
}