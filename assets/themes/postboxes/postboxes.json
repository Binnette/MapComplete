{
  "id": "postboxes",
  "title": {
    "en": "Postbox and Post Office Map",
    "de": "Karte mit Briefkästen und Poststellen",
    "nb_NO": "Postboks og postkontor-kart",
    "it": "Buche delle lettere e uffici postali"
  },
  "shortDescription": {
    "en": "A map showing postboxes and post offices",
    "de": "Eine Karte die Briefkästen und Poststellen anzeigt",
    "it": "Una cartina che mostra le buche delle lettere e gli uffici postali"
  },
  "description": {
    "en": "On this map you can find and add data of post offices and post boxes. You can use this map to find where you can mail your next postcard! :)<br/>Spotted an error or is a post box missing? You can edit this map with a free OpenStreetMap account. ",
    "it": "In questa cartina puoi veder e modificare gli uffici postali e le buche delle lettere. Puoi usare questa cartina per trovare dove imbucare la tua prossima cartolina! :)<br/>Hai trovato un errore o una buca delle lettere mancante? Puoi modificare questa cartina con un account gratuito su OpenStreetMap. "
  },
  "language": [
    "en",
    "de",
    "it",
    "nb_NO"
  ],
  "maintainer": "",
  "icon": "./assets/themes/postboxes/postbox.svg",
  "version": "0",
  "startLat": 53.5511,
  "startLon": 9.9937,
  "startZoom": 13,
  "widenFactor": 1.5,
  "defaultBackgroundId": "CartoDB.Voyager",
  "clustering": {
    "maxZoom": 14,
    "minNeededElements": 100
  },
  "layers": [
    {
      "id": "postboxes",
      "name": {
        "en": "Postboxes",
        "de": "Brieflästen"
      },
      "minzoom": 12,
      "source": {
        "osmTags": "amenity=post_box"
      },
      "title": {
        "render": {
          "en": "Postbox",
          "de": "Briefkasten"
        }
      },
      "description": {
        "en": "The layer showing postboxes.",
        "de": "Die Ebene zeigt Briefkästen."
      },
      "tagRenderings": [
        "images",
        {
          "id": "minimap",
          "render": "{minimap(18): height: 5rem; overflow: hidden; border-radius:3rem; }"
        }
      ],
      "presets": [
        {
          "tags": [
            "amenity=post_box"
          ],
          "title": {
            "en": "postbox",
            "de": "Briefkasten"
          }
        }
      ],
      "deletion": {
        "softDeletionTags": {
          "and": [
            "amenity=",
            "razed:amenity=post_box"
          ]
        }
      },
      "mapRendering": [
        {
          "icon": {
            "render": "./assets/themes/postboxes/postbox.svg"
          },
          "iconSize": {
            "render": "40,40,bottom"
          },
          "location": [
            "point",
            "centroid"
          ]
        },
        {
          "color": {
            "render": "#DADADA"
          },
          "width": {
            "render": "1"
          }
        }
      ]
    },
    {
      "id": "postoffices",
      "name": {
        "en": "Post offices",
        "de": "Poststellen"
      },
      "minzoom": 12,
      "source": {
        "osmTags": {
          "or": [
            "amenity=post_office",
            "post_office=post_partner"
          ]
        }
      },
      "title": {
        "render": {
          "en": "Post Office",
          "de": "Poststelle"
        },
        "mappings": [
          {
            "if": {
              "and": [
                "post_office=post_partner",
                "name="
              ]
            },
            "then": {
              "en": "Post partner at a shop",
              "de": "Postfiliale im Einzelhandel"
            }
          },
          {
            "if": {
              "and": [
                "post_office=post_partner",
                "name~*"
              ]
            },
            "then": {
              "en": "Post partner at {name}",
              "de": "Postfiliale im {name}"
            }
          }
        ]
      },
      "description": {
        "en": "A layer showing post offices.",
        "de": "Eine Ebene mit Postämtern."
      },
      "tagRenderings": [
        "images",
        {
          "id": "minimap",
          "render": "{minimap(18): height: 5rem; overflow: hidden; border-radius:3rem; }"
        },
        {
          "render": {
            "en": "Opening Hours: {opening_hours_table()}"
          },
          "freeform": {
            "key": "opening_hours",
            "type": "opening_hours"
          },
          "question": {
            "en": "What are the opening hours for this post office?"
          },
          "mappings": [
            {
              "if": "opening_hours=24/7",
              "then": {
                "en": "24/7 opened (including holidays)",
                "de": "durchgehend geöffnet (auch an Feiertagen)"
              }
            }
          ],
          "id": "OH"
        },
        {
          "id": "partner-brand",
          "render": {
            "en": "This location offers services for {post_office:brand}"
          },
          "question": {
            "en": "For which brand does this location offer services?"
          },
          "condition": "post_office=post_partner",
          "freeform": {
            "key": "post_office:brand",
            "type": "string"
          },
          "multiAnswer": true,
          "mappings": [
            {
              "if": "post_office:brand=DHL",
              "then": {
                "en": "This location offers services for DHL"
              },
              "hideInAnswer": "_country=de"
            },
            {
              "if": "post_office:brand=DPD",
              "then": {
                "en": "This location offers services for DPD"
              }
            },
            {
              "if": "post_office:brand=GLS",
              "then": {
                "en": "This location offers services for GLS"
              }
            },
            {
              "if": "post_office:brand=UPS",
              "then": {
                "en": "This location offers services for UPS"
              }
            },
            {
              "if": "post_office:brand=DHL Paketshop",
              "then": {
                "en": "This location is a DHL Paketshop"
              },
              "hideInAnswer": "_country!=de"
            },
            {
              "if": "post_office:brand=Hermes PaketShop",
              "then": {
                "en": "This location is a Hermes PaketShop"
              },
              "hideInAnswer": "_country!=de"
            },
            {
              "if": "post_office:brand=PostNL",
              "then": {
                "en": "This location is a PostNL-point"
              },
              "hideInAnswer": {
                "and": [
                  "_country!=nl",
                  "_country!=be"
                ]
              }
            },
            {
              "if": "post_office:brand=bpost",
              "then": {
                "en": "This location offers services for bpost"
              },
              "hideInAnswer": "_country!=be"
            }
          ]
        },
        {
          "id": "letter-from",
          "render": {
            "en": "You can post letters with these companies: {post_office:letter_from}"
          },
          "question": {
            "en": "Can you post a letter here?"
          },
          "freeform": {
            "key": "post_office:letter_from",
            "type": "string"
          },
          "mappings": [
            {
              "if": "post_office:letter_from=yes",
              "then": {
                "en": "You can post letters here"
              }
            },
            {
              "if": "post_office:letter_from=no",
              "then": {
                "en": "You can't post letters here"
              }
            }
          ]
        },
        {
          "id": "parcel-from",
          "render": {
            "en": "You can post parcels with these companies: {post_office:parcel_from}"
          },
          "question": {
            "en": "Can you send a parcel here?"
          },
          "freeform": {
            "key": "post_office:parcel_from",
            "type": "string"
          },
          "mappings": [
            {
              "if": "post_office:parcel_from=yes",
              "then": {
                "en": "You can send parcels here"
              }
            },
            {
              "if": "post_office:parcel_from=no",
              "then": {
                "en": "You can't send parcels here"
              }
            }
          ]
        },
        {
          "id": "parcel-pickup",
          "render": {
            "en": "You can pick up parcels from these companies: {post_office:parcel_pickup}"
          },
          "question": {
            "en": "Can you pick up missed parcels here?"
          },
          "freeform": {
            "key": "post_office:parcel_pickup",
            "type": "string"
          },
          "mappings": [
            {
              "if": "post_office:parcel_pickup=yes",
              "then": {
                "en": "You can pick up missed parcels here"
              }
            },
            {
              "if": "post_office:parcel_pickup=no",
              "then": {
                "en": "You can't pick up missed parcels here"
              }
            }
          ]
        },
        {
          "id": "parcel-to",
          "render": {
            "en": "You can send parcels to here for pickup with these companies: {post_office:parcel_to}"
          },
          "question": {
            "en": "Can you send parcels to here for pickup?"
          },
          "freeform": {
            "key": "post_office:parcel_to",
            "type": "string"
          },
          "mappings": [
            {
              "if": "post_office:parcel_to=yes",
              "then": {
                "en": "You can send parcels to here for pickup"
              }
            },
            {
              "if": "post_office:parcel_to=no",
              "then": {
                "en": "You can't send parcels to here for pickup"
              }
            }
          ]
        },
        {
          "id": "stamps",
          "render": {
            "en": "You can buy stamps from companies: {post_office:stamps}"
          },
          "question": {
            "en": "Can you buy stamps here?"
          },
          "freeform": {
            "key": "post_office:stamps",
            "type": "string"
          },
          "mappings": [
            {
              "if": "post_office:stamps=yes",
              "then": {
                "en": "You can buy stamps here"
              }
            },
            {
              "if": "post_office:stamps=no",
              "then": {
                "en": "You can't buy stamps here"
              }
            }
          ]
        }
      ],
      "presets": [
        {
          "tags": [
            "amenity=post_office"
          ],
          "title": {
            "en": "Post Office",
            "de": "Poststelle"
          }
        }
      ],
      "filter": [
        {
          "id": "is_open",
          "options": [
            {
              "question": {
                "en": "Currently open",
                "de": "Aktuell geöffnet"
              },
              "osmTags": "_isOpen=yes"
            }
          ]
        }
      ],
      "mapRendering": [
        {
          "icon": {
            "render": "square:white;./assets/themes/postboxes/post_office.svg"
          },
          "iconBadges": [
            {
              "if": "opening_hours~*",
              "then": "isOpen"
            }
          ],
          "iconSize": {
            "render": "40,40,bottom"
          },
          "location": [
            "point",
            "centroid"
          ]
        },
        {
          "color": {
            "render": "#DADADA"
          },
          "width": {
            "render": "1"
          }
        }
      ]
    }
  ]
}