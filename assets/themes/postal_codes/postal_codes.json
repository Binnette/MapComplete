{
  "id": "postal_codes",
  "title": {
    "en": "Postal codes"
  },
  "shortDescription": {
    "en": "Postal codes"
  },
  "description": {
    "en": "Postal codes"
  },
  "language": [
    "en"
  ],
  "maintainer": "",
  "icon": "./assets/themes/postal_codes/townhall.svg",
  "version": "0",
  "startLat": 0,
  "startLon": 0,
  "startZoom": 1,
  "widenFactor": 0.05,
  "socialImage": "",
  "hideFromOverview": true,
  "clustering": false,
  "overpassTimeout": 180,
  "layers": [
    {
      "id": "town_hall",
      "name": {
        "en": "town halls and churches"
      },
      "minzoom": 12,
      "title": {
        "render": {
          "en": "Town hall {name}"
        }
      },
      "#calculatedTags": [
        "_postal_code_properties=(() => { const f = feat.overlapWith('postal_code_boundary'); if(f.length===0){return {};}; const p = f[0]?.feat?.properties; return {id:p.id, postal_code: p.postal_code, _closest_town_hall: p._closest_town_hall}; })()",
        "_postal_code=feat.get('_postal_code_properties')?.postal_code",
        "_postal_code_center_distance=feat.distanceTo(feat.get('_postal_code_properties').id)"
      ],
      "description": {},
      "tagRenderings": [],
      "presets": [],
      "source": {
        "osmTags": {
          "or":     ["amenity=townhall","building=church"]
        }
      },
      "mapRendering": [
        {
          "icon": "./assets/themes/postal_codes/townhall.svg",
          "iconSize": {
            "render": "40,40,center"
          },
          "location": [
            "point",
            "centroid"
          ]
        }
      ],
      "isShown": {
        "render": "yes",
        "mappings": [
          {
            "if": "_country!=be",
            "then": "no"
          }
        ]
      }
    }
  ]
}