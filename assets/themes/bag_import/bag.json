{
  "id": "bag",
  "title": {
    "nl": "BAG import helper"
  },
  "shortDescription": {
    "nl": "BAG import helper tool"
  },
  "description": {
    "nl": "Dit thema helpt het importeren van BAG data"
  },
  "maintainer": "Wouter van der Wal",
  "icon": "./assets/themes/bag_import/logo.svg",
  "version": "0",
  "startLat": 53.1726,
  "startLon": 7.04545,
  "startZoom": 9,
  "overrideAll": {
    "minzoom": 19
  },
  "layers": [
    {
      "id": "bag:pand",
      "name": "bag:pand",
      "title": "bag:pand - {identificatie}",
      "description": "Gebouwen vanaf het bag register",
      "source": {
        "geoJson": "https://service.pdok.nl/lv/bag/wfs/v2_0?request=GetFeature&service=WFS&version=2.0.0&outputFormat=application%2Fjson%3B%20subtype%3Dgeojson&typeName=bag%3Apand&bbox={x_min}%2C{y_min}%2C{x_max}%2C{y_max}%2CCRS84&srsName=EPSG%3A4326",
        "geoJsonZoomLevel": 18,
        "osmTags": {
          "and": ["identificatie~*"]
        },
        "maxCacheAge": 0
      },
      "calculatedTags": [
        "_osm_obj:building=(feat.properties.status.startsWith('Bouwvergunning verleend') || feat.properties.status.startsWith('Bouw gestart')) ? 'construction' : ((feat.properties.status.startsWith('Pand in gebruik') && feat.properties.gebruiksdoel == 'woonfunctie') ? ((Number(feat.properties.aantal_verblijfsobjecten) == 1) ? 'house' : 'apartments') : 'yes')"
      ],
      "mapRendering": [
        {
          "width": {
            "render": 5
          },
          "color": {
            "render": "#00a"
          }
        }
      ]
    },
    {
      "id": "bag:verblijfsobject",
      "name": "bag:verblijfsobject",
      "title": "bag:verblijfsobject - {identificatie}",
      "description": "Adressen vanaf het BAG register",
      "source": {
        "geoJson": "https://service.pdok.nl/lv/bag/wfs/v2_0?request=GetFeature&service=WFS&version=2.0.0&outputFormat=application%2Fjson%3B%20subtype%3Dgeojson&typeName=bag%3Averblijfsobject&bbox={x_min}%2C{y_min}%2C{x_max}%2C{y_max}%2CCRS84&srsName=EPSG%3A4326",
        "geoJsonZoomLevel": 19,
        "osmTags": {
          "and": ["identificatie~*"]
        },
        "maxCacheAge": 0
      },
      "calculatedTags": [
        "addr:housenumber:=`${feat.properties.huisnummer}${feat.properties.huisletter}${(feat.properties.toevoeging != '') ? '-' : ''}${feat.properties.toevoeging}`",
        "adress=`${feat.properties.openbare_ruimte} ${feat.properties['addr:housenumber']} ${feat.properties.postcode} ${feat.properties.woonplaats}`"
      ],
      "mapRendering": [
        {
          "label": {
            "render": "<div style='color: black' class='rounded-full p-1 font-bold relative'>{addr:housenumber}</div>",
            "condition": "addr:housenumber~*"
          },
          "location": ["point", "centroid"]
        },
        {
          "width": {
            "render": 1
          }
        }
      ]
    }
  ],
  "hideFromOverview": true
}
